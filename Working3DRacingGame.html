<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>3D Racing Game</title>
<style>
body{margin:0;overflow:hidden;}
#hud{
 position:fixed;
 top:10px;left:10px;
 color:white;
 background:rgba(0,0,0,0.6);
 padding:10px;
 border-radius:6px;
 font-family:Arial;
 z-index:10;
}
</style>
</head>

<body>
<div id="hud">Speed: 0</div>

<script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>

<script>
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x87ceeb);

const camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
document.body.appendChild(renderer.domElement);

// light
scene.add(new THREE.AmbientLight(0xffffff,1));
const light = new THREE.DirectionalLight(0xffffff,1);
light.position.set(10,20,10);
scene.add(light);

// ground
const ground = new THREE.Mesh(
 new THREE.PlaneGeometry(500,500),
 new THREE.MeshStandardMaterial({color:0x2ecc71})
);
ground.rotation.x = -Math.PI/2;
scene.add(ground);

// road
const road = new THREE.Mesh(
 new THREE.PlaneGeometry(500,30),
 new THREE.MeshStandardMaterial({color:0x333333})
);
road.rotation.x = -Math.PI/2;
road.position.y = 0.01;
scene.add(road);

// car
const car = new THREE.Group();

const body = new THREE.Mesh(
 new THREE.BoxGeometry(2,0.6,4),
 new THREE.MeshStandardMaterial({color:0xff0000})
);
body.position.y = 0.5;
car.add(body);

const top = new THREE.Mesh(
 new THREE.BoxGeometry(1.5,0.6,2),
 new THREE.MeshStandardMaterial({color:0xaa0000})
);
top.position.set(0,0.9,-0.3);
car.add(top);

car.position.y = 0.3;
scene.add(car);

camera.position.set(0,5,10);

// controls
const keys = {};
window.addEventListener('keydown',e=>keys[e.key.toLowerCase()]=true);
window.addEventListener('keyup',e=>keys[e.key.toLowerCase()]=false);

let speed = 0;

function animate(){
 requestAnimationFrame(animate);

 if(keys['w']) speed += 0.02;
 if(keys['s']) speed -= 0.02;
 speed *= 0.98;

 if(keys['a']) car.rotation.y += 0.04;
 if(keys['d']) car.rotation.y -= 0.04;

 car.position.x += Math.sin(car.rotation.y)*speed;
 car.position.z += Math.cos(car.rotation.y)*speed;

 camera.position.x = car.position.x - Math.sin(car.rotation.y)*8;
 camera.position.z = car.position.z - Math.cos(car.rotation.y)*8;
 camera.position.y = 5;
 camera.lookAt(car.position);

 document.getElementById('hud').innerText = "Speed: " + speed.toFixed(2);

 renderer.render(scene,camera);
}

animate();

window.addEventListener('resize',()=>{
 camera.aspect = window.innerWidth/window.innerHeight;
 camera.updateProjectionMatrix();
 renderer.setSize(window.innerWidth,window.innerHeight);
});
</script>
</body>
</html>


